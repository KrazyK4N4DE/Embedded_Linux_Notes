# 编译

## 交叉编译Tips

**交叉编译的目的**：开发板的arm和虚拟机的x86架构不同，在虚拟机上正常编译的程序无法在开发板上运行，需要工具链对源文件进行能够在开发板上运行的编译。

- 开发板靠近开关的是eth0。
  - 开发板IP：192.168.5.9
  - 电脑IP：192.168.5.10
  - 虚拟机IP：192.168.5.11
- 先ifconfig下看看有没有网，再试试能不能ping通，最后在开发板上进行挂载命令。
- 挂载命令：mount -t nfs -o nolock,vers=3 192.168.5.11:/home/book/nfs_rootfs /mnt
- 不能在挂载当前目录进行挂载操作，会找不见文件的。
- 挂载用的桥接IP，NAT的IP也行吧。

## gcc编译过程

![编译过程](https://image-hosting-1313474851.cos.ap-shanghai.myqcloud.com/Notes/编译过程.png)

1. 预处理 (gcc -E)：包含头文件、展开宏、去掉不生效的代码。
2. 编译 (gcc -S)：转成汇编码。
3. 汇编 (gcc -c)：汇编成机器码。
4. 链接 (gcc不加命令选项)：将至少一个.o文件与系统文件链接成App。

了解这些的目的：程序出错时可分部查看判断错哪里。
